<!--
  ~ SPDX-FileCopyrightText: 2021 Helmholtz-Zentrum fÃ¼r Infektionsforschung GmbH (HZI) <PiaPost@helmholtz-hzi.de>
  ~
  ~ SPDX-License-Identifier: AGPL-3.0-or-later
  -->

<app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
<div class="jumbotron">
  <mat-card class="d-flex justify-content-center">
    <mat-card-header>
      <mat-card-title>
        {{ pseudonym }}
      </mat-card-title>
    </mat-card-header>
    <mat-card-content class="proband-details">
      <div *ngIf="proband">
        <table>
          <tr>
            <td>{{ 'PROBAND.EXAMINATION_WAVE' | translate }}</td>
            <td>{{ proband.examination_wave }}</td>
          </tr>
          <tr>
            <td>{{ 'PROBAND.STUDY_CENTER' | translate }}</td>
            <td>{{ proband.study_center }}</td>
          </tr>
          <tr>
            <td>{{ 'PROBAND.COMPLIANCE_LABRESULTS' | translate }}</td>
            <td>
              {{
                (proband.complianceLabresults
                  ? 'PROBAND.TRUE'
                  : 'PROBAND.FALSE'
                ) | translate
              }}
            </td>
          </tr>
          <tr>
            <td>{{ 'PROBAND.COMPLIANCE_SAMPLES' | translate }}</td>
            <td>
              {{
                (proband.complianceSamples ? 'PROBAND.TRUE' : 'PROBAND.FALSE')
                  | translate
              }}
            </td>
          </tr>
          <tr>
            <td>{{ 'PROBAND.COMPLIANCE_BLOODSAMPLES' | translate }}</td>
            <td>
              {{
                (proband.complianceBloodsamples
                  ? 'PROBAND.TRUE'
                  : 'PROBAND.FALSE'
                ) | translate
              }}
            </td>
          </tr>
        </table>
      </div>
      <div *ngIf="!proband">
        {{ 'PROBAND.NOT_EXIST' | translate }}
      </div>
      <div *ngIf="proband">
        <mat-checkbox
          [checked]="proband.is_test_proband"
          (change)="changeTestprobandState($event.checked)"
          >{{ 'PROBAND.TEST_PROBAND' | translate }}
        </mat-checkbox>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button
        [disabled]="!proband"
        mat-button
        color="primary"
        (click)="openSampleManagement()"
      >
        {{ 'PROBAND.OPEN_SAMPLES' | translate }}
      </button>
      <button
        [disabled]="!plannedProband"
        mat-button
        color="primary"
        (click)="openLoginLetter()"
      >
        {{ 'PROBAND.OPEN_LOGIN_LETTER' | translate }}
      </button>
    </mat-card-actions>
  </mat-card>
</div>
